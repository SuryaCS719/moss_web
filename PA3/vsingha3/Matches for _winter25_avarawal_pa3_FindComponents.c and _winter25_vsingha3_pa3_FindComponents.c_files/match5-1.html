
<!-- saved from url=(0126)file:///Users/surya/Desktop/moss/cse101/pa3_report/moss_results/winter25_winter25/FindComponents.c/part_1/report/match5-1.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>/winter25/avarawal/pa3/FindComponents.c</title>
</head>
<body bgcolor="white">
<hr>
/winter25/vsingha3/pa3/FindComponents.c<p></p><pre>// Vani Singhal
// vsingha3@ucsc.edu
// pa3


#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include &lt;stdbool.h&gt;

#include"List.h"
#include"Graph.h"

#include &lt;string.h&gt;



int main(int argc, char* argv[]){


     if(argc != 3){
        fprintf(stderr, "Usage: %s &lt;filename&gt;\n", argv[0]);
        return EXIT_FAILURE;
  }
    FILE *in = fopen(argv[1], "r");
    FILE *out =  fopen(argv[2], "w");

<a name="1"></a><font color="#00FF00"><a href="file:///Users/surya/Desktop/moss/cse101/pa3_report/moss_results/winter25_winter25/FindComponents.c/part_1/report/match5-0.html#1" target="0"><img align="left" alt="other" border="0" src="./tm_1_15.gif"></a>

      if (in == NULL||out == NULL) {
        perror("Error opening in file");
        return EXIT_FAILURE;
    }
    

    int n;
    int u, v;

    
    fscanf(in, "%d", &amp;n);
    Graph G = newGraph(n); 

    
    while (fscanf(in, "%d %d", &amp;u, &amp;v) == 2) {
        if (u == 0 &amp;&amp; v == 0) {
</font>            break;  
        }
        addArc(G,u, v);  
    }
    fprintf(out, "Adjacency list representation of G:\n");
    printGraph(out,G);
    fprintf(out, "\n");

    
    List list = newList();
<a name="0"></a><font color="#FF0000"><a href="file:///Users/surya/Desktop/moss/cse101/pa3_report/moss_results/winter25_winter25/FindComponents.c/part_1/report/match5-0.html#0" target="0"><img align="left" alt="other" border="0" src="./tm_0_53.gif"></a>

    for (int i = 1; i &lt;= n; i++) append(list, i);

    DFS(G,list);
    

    Graph H = transpose(G);
    
    
    DFS(H,list);


     int cnt = 0;
   if (length(list) &gt; 0) {
       moveBack(list);


       while (index(list) &gt; -1) {
           if (getParent(H, get(list)) == NIL) {
               cnt++;
           }
           movePrev(list);
       }
   }

   fprintf(out, "G contains %d strongly connected components:\n", cnt);

  
  int i = 0;//tracks non nil components
  int j = 0;//tracks nil components
  if(length(list) &gt; 0){
    moveBack(list);
  while(index(list) &gt; -1){//index reachees -1 thats why it exits
    if(getParent(H, get(list)) != NIL){
        i++;
        movePrev(list);     
        }else{
            j++;
            fprintf(out, "Component %d: ", j);
            for(int x = 1; x &lt;=i; x++){//could be subtle issue as to how we iterate through i
                fprintf(out, "%d ", get(list));
                moveNext(list);
            }   

            fprintf(out, "%d \n", get(list));

            for(int x = 1; x &lt;=i + 1; x++){//could be subtle issue as to how we iterate through i
                movePrev(list);
                
            }
            i = 0;
         
        }
    }
    
  }


   
    
    
    fclose(in);
    fclose(out);
            

   freeGraph(&amp;G);
   freeGraph(&amp;H);
   
   freeList(&amp;list);

return 0;
</font>}
</pre>


</body></html>