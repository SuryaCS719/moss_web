
<!-- saved from url=(0116)file:///Users/surya/Desktop/moss/cse101/pa1_report/moss_results/winter25_winter25/List.c/part_1/report/match4-0.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>/winter25/mchave83/pa1/List.c</title>
</head>
<body bgcolor="white">
<hr>
/winter25/mchave83/pa1/List.c<p></p><pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdbool.h&gt;
#include "List.h"

typedef struct NodeObj{
    int data;
    struct NodeObj* next;
    struct NodeObj* prev;
}NodeObj;

typedef NodeObj* Node; //access to other neede variable frokm other struct

typedef struct ListObj{
    //Front node created 
    Node front;
    //Back node created 
    Node back;
    //cursor create node and calling the struct
    Node cursor;

    int length; //assigning length to an int
    int index; //assigning the index to an int
}ListObj;


//newList
<a name="4"></a><font color="#FF00FF"><a href="file:///Users/surya/Desktop/moss/cse101/pa1_report/moss_results/winter25_winter25/List.c/part_1/report/match4-1.html#4" target="1"><img align="left" alt="other" border="0" src="./tm_4_5.gif"></a>

List newList(void){
    List L = malloc(sizeof(ListObj));
    L-&gt;front = NULL;
    L-&gt;cursor = NULL;
    L-&gt;back = NULL;
    return L;
}


//freelist
void freeList(List* pL){
    //checks node from the list is NULL
    //and that what it is pointing to is not NULL either
    if(pL != NULL &amp;&amp; *pL != NULL){
        free(*pL); // true then it frees the pointer
        *pL = NULL; // sets it as NULL so that there is no random memory 
    }
}


Node newNode(int data){
    Node N = malloc(sizeof(NodeObj));
    N-&gt;data = data;
    N-&gt;next = NULL;
    N-&gt;prev = NULL;
</font>    return N;
}


void freeNode(Node* pN){
<a name="0"></a><font color="#FF0000"><a href="file:///Users/surya/Desktop/moss/cse101/pa1_report/moss_results/winter25_winter25/List.c/part_1/report/match4-1.html#0" target="1"><img align="left" alt="other" border="0" src="./tm_0_15.gif"></a>

    if(pN != NULL &amp;&amp; *pN != NULL){
        free(*pN);
        *pN = NULL;
    }
}


//Access Functions----------------------------------------------------------------------------------------------------------
//length
int length(List L){
    if(L == NULL){
        fprintf(stderr, "List Error: calling length() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    return(L-&gt;length);
}


//index value
int index(List L){
    //if defined:
    return L-&gt;index;
}


//front of list
int front(List L){
    if(L == NULL){
        fprintf(stderr, "List Error: calling front() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    return(L-&gt;front-&gt;data);
}


//back of list
int back(List L){
    if(L == NULL){
        fprintf(stderr, "List Error: calling back() on NULL List reference\n");
    }
    return(L-&gt;back-&gt;data);
}




//getting the element
int get(List L){
    if(L == NULL){
        fprintf(stderr, "List Error: calling front() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
   return(L-&gt;cursor-&gt;data);
}




//equals
bool equals(List A, List B){
    if(A == NULL || B == NULL){
                fprintf(stderr, "List Error: calling equals() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    else{
        if (length(A) == length(B)){
            return 1;
        }
    }
    return 0;
}




//Manipulation Procedures-------------------------------------------------------------------------------------------------
void clear(List L){
    //goes through the list
    while(L-&gt;length &gt; 0){
        //every element from the front is deleted 
        deleteFront(L);
    }
    //set the empty list
    L-&gt;cursor = NULL;
    L-&gt;index = -1;
}

void set(List L, int x){
    if(L == NULL){
        fprintf(stderr, "List Error: calling set() on a NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    if(L-&gt;cursor == NULL){
        fprintf(stderr, "List Error: calling set() on a NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    L-&gt;cursor-&gt;data = x; //cursor set on indicated element 

}

//sets the cursor to the front of the list
void moveFront(List L){
</font>    if (L==NULL){
        fprintf(stderr, "List Error: calling moveFront on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    if(L-&gt;length &gt; 0){
        L-&gt;cursor = L-&gt;front; //cursor is now at the front
        L-&gt;index = 0;
    }
}

//sets cursor to the back of the list
void moveBack(List L){
    if (L==NULL){
        fprintf(stderr, "List Error: calling moveFront on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    if(L-&gt;length &gt; 0){
        L-&gt;cursor = L-&gt;back; //cursor is now at the back
        L-&gt;index = L-&gt;length - 1;
    }
}

//makes the cursor go back once
void movePrev(List L){
    if(L-&gt;cursor != NULL){
        if(L-&gt;cursor == L-&gt;front){ //if the cursor is already at the front it just undefines it
            L-&gt;cursor = NULL;
            L-&gt;index = -1;
        }
        else{
            L-&gt;cursor = L-&gt;cursor-&gt;prev; //otherwise goes back once
            L-&gt;index--; // decreases the index value of the cursor
        }
    }
}
//moves the cursor to the right once
void moveNext(List L){
    if(L-&gt;cursor != NULL){
        if(L-&gt;cursor == L-&gt;back){ //if the cursor is already at the last element it undefines it
            L-&gt;cursor = NULL;
            L-&gt;index = -1;
        }
        else{
            L-&gt;cursor = L-&gt;cursor-&gt;next;//otherwise it will move the cursor up once
            L-&gt;index++; // increases the index value
        }
    }
}

//insert a new element at the beginning of the list instead of the end 
void prepend(List L, int data){
    Node N = newNode(data);
    if(L-&gt;length == 0){
        L-&gt;front = L-&gt;back = N;
    }
    else{
<a name="2"></a><font color="#0000FF"><a href="file:///Users/surya/Desktop/moss/cse101/pa1_report/moss_results/winter25_winter25/List.c/part_1/report/match4-1.html#2" target="1"><img align="left" alt="other" border="0" src="./tm_2_12.gif"></a>

        N-&gt;next = L-&gt;front;
        L-&gt;front-&gt;prev = N;
        L-&gt;front = N;
    }
    //increases the length of the list, an element was added
    L-&gt;length++;
    if(L-&gt;cursor != NULL){
        L-&gt;index++;
    }
}

//will put the new element and insert it at the back of the list
void append(List L, int data){
    Node N = newNode(data);//creating a helper node
    //making sure the list is not NULL
    if(L == NULL){
        fprintf(stderr, "List Error: calling append() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    //checking if the list actually has an element
    if(L-&gt;length == 0){
        L-&gt;front = L-&gt;back = N; // if it does not it just tells it that the front is == to the back
    }else{
        N-&gt;prev = L-&gt;back;
        L-&gt;back-&gt;next = N;
        L-&gt;back = N;
    }
    //increasing the length of the list after the element is added
    L-&gt;length++;
}


//inserts data before the cursor
void insertBefore(List L, int data){
    Node N = newNode(data);
    //checking if the list is empty
    if (L == NULL){
        fprintf(stderr, "List Error: calling insertBefore() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    //checking that the place where the cursor is, is empty
    if(L-&gt;cursor == NULL){
        fprintf(stderr, "List Error: calling insertBefored() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    //chekcing it the cursor is at the front
    if(L-&gt;cursor == L-&gt;front){
        N-&gt;next = L-&gt;front;
        L-&gt;front-&gt;prev = N;
</font>        L-&gt;front = N;
    }
    else{
        N-&gt;next = L-&gt;cursor;
        N-&gt;prev = L-&gt;cursor-&gt;prev;
        L-&gt;cursor-&gt;prev-&gt;next = N;
<a name="5"></a><font color="#FF0000"><a href="file:///Users/surya/Desktop/moss/cse101/pa1_report/moss_results/winter25_winter25/List.c/part_1/report/match4-1.html#5" target="1"><img align="left" alt="other" border="0" src="./tm_0_5.gif"></a>

        L-&gt;cursor-&gt;prev = N;
    }
    //increasing the length since an element was added
    L-&gt;length++;
    //also increasing cursor index since it is before the cursor
    L-&gt;index++;
}


//inserts data after the cursor
void insertAfter(List L, int data){
    Node N = newNode(data);
    //making sure the list is not NULL
    if(L==NULL){
        fprintf(stderr, "List Error: calling insertAfter() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    //Erroring out if the cursor is NULL
    if(L-&gt;cursor == NULL){
        fprintf(stderr, "List Error: calling insertAfter() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    //making sure to see that the cursor is at the back 
    if(L-&gt;cursor == L-&gt;back){
        N-&gt;prev = L-&gt;back;
        L-&gt;back-&gt;next = N;
</font>        L-&gt;back = N;
    }
    else{
        N-&gt;prev = L-&gt;cursor;
        N-&gt;next = L-&gt;cursor-&gt;next; // chasing next to be after the cursor 
        L-&gt;cursor-&gt;next-&gt;prev = N;
<a name="3"></a><font color="#00FFFF"><a href="file:///Users/surya/Desktop/moss/cse101/pa1_report/moss_results/winter25_winter25/List.c/part_1/report/match4-1.html#3" target="1"><img align="left" alt="other" border="0" src="./tm_3_9.gif"></a>

        L-&gt;cursor-&gt;next = N;
    }
    //increasing the length since a new element was added
    L-&gt;length++;
}

//deleting the front element of the list 
void deleteFront(List L){
    if(L-&gt;length == 0){
        fprintf(stderr, "List Error: calling deleteFront() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }


    //making sure the the list has more than one element
    if(L-&gt;length &gt; 1){
        L-&gt;front = L-&gt;front-&gt;next;
        L-&gt;front-&gt;prev = NULL;
    }
    else{
        L-&gt;front = L-&gt;back = NULL;
    }
    //updating the new list
    L-&gt;length--;
    if(L-&gt;index != -1){
        L-&gt;index--;
        if(L-&gt;index &lt; 0){
            L-&gt;cursor = NULL;
        }
    }
}

//deleting the last or back element of the list 
void deleteBack(List L){
    if(L-&gt;length == 0){
        fprintf(stderr, "List Error: calling deleteBack() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    Node t = L-&gt;back;  //helper node that points to the back of the list 
    if(L-&gt;length &gt; 1){
</font>        L-&gt;back = L-&gt;back-&gt;prev;
<a name="1"></a><font color="#00FF00"><a href="file:///Users/surya/Desktop/moss/cse101/pa1_report/moss_results/winter25_winter25/List.c/part_1/report/match4-1.html#1" target="1"><img align="left" alt="other" border="0" src="./tm_1_15.gif"></a>

        L-&gt;back-&gt;next = NULL;
    }
    else{
        L-&gt;front = L-&gt;back = NULL;
    }

    //updating the list
    freeNode(&amp;t);//freeing the helper node
    L-&gt;length--;
    if(L-&gt;cursor == t){//checking 
        L-&gt;cursor = NULL;
        L-&gt;index = -1;
    }
}

//deleting the element of the cursor
void delete(List L){
    //checking to see if the list is not empty
    if(L == NULL){
        fprintf(stderr, "List Error: calling delete() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    //making sure the cursor element is not empty 
    if(L-&gt;cursor == NULL){
        fprintf(stderr, "List Error: calling delete() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    Node t = L-&gt;cursor;
    if(L-&gt;cursor == L-&gt;front){
        L-&gt;front = L-&gt;front-&gt;next;
        if (L-&gt;front != NULL){
            L-&gt;front-&gt;prev = NULL;
        }
    }
    else if(L-&gt;cursor == L-&gt;back){
        L-&gt;back = L-&gt;back-&gt;prev;
        if(L-&gt;back != NULL){
            L-&gt;back-&gt;next = NULL;
        }
    }
    else{
        L-&gt;cursor-&gt;prev-&gt;next = L-&gt;cursor-&gt;next;
        L-&gt;cursor-&gt;next-&gt;prev = L-&gt;cursor-&gt;prev;
    }
    //updating the deleted list
    freeNode(&amp;t);
    L-&gt;cursor = NULL;
    L-&gt;index = -1;
    L-&gt;length--;
}
//Other Opertations------------------------------------------------------------------------------------------------------------------
//printing out the list of the file that was given by the user
void printList(FILE* out, List L){
</font>    if(L == NULL){
        fprintf(stderr, "List Error: calling printList() on NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    Node current = L-&gt;front;
<a name="6"></a><font color="#00FF00"><a href="file:///Users/surya/Desktop/moss/cse101/pa1_report/moss_results/winter25_winter25/List.c/part_1/report/match4-1.html#6" target="1"><img align="left" alt="other" border="0" src="./tm_1_4.gif"></a>

    while(current != NULL){
        fprintf(out, "%d", current-&gt;data);
        current = current-&gt;next;
        if(current != NULL){
            fprintf(out," ");
        }
    }
    fprintf(out, "\n");
}

//making a copy of the list that was given by the user
List copyList(List L){
    //making sure the original list is not empty
    if(L == NULL){
        fprintf(stderr, "List Error: calling copylist() on a NULL List reference\n");
        exit(EXIT_FAILURE);
    }
    //making that new copy
    List newlist = newList();
    Node current = L-&gt;front;
</font>    while(current != NULL){
        append(newlist, current-&gt;data);
        current = current -&gt;next;
    }
    return newlist;
}</pre>


</body></html>