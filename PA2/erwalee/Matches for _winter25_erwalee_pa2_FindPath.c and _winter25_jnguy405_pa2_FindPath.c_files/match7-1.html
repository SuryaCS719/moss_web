
<!-- saved from url=(0120)file:///Users/surya/Desktop/moss/cse101/pa2_report/moss_results/winter25_winter25/FindPath.c/part_1/report/match7-1.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>/winter25/erwalee/pa2/FindPath.c</title>
</head>
<body bgcolor="white">
<hr>
/winter25/jnguy405/pa2/FindPath.c<p></p><pre>/***
* Jenalee Nguyen
* jnguy405
* 2025 Winter CSE101 PA2
* FindPath.c
* Main Program file for Graph ADT
***/

#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include "Graph.h"

<a name="0"></a><font color="#FF0000"><a href="file:///Users/surya/Desktop/moss/cse101/pa2_report/moss_results/winter25_winter25/FindPath.c/part_1/report/match7-0.html#0" target="0"><img align="left" alt="other" border="0" src="./tm_0_97.gif"></a>

void usage() {
        fprintf(stderr, "Usage: FindPath &lt;input file&gt; &lt;output file&gt;\n");
        exit(EXIT_FAILURE);
}

void printPath(FILE* out, Graph G, int source, int destination) {
	List path = newList();
	getPath(path, G, destination);


	
	// no path
	if (getDist(G, destination) == INF) {
		fprintf(out, "The distance from %d to %d is infinity\n", source, destination);
                fprintf(out, "No %d-%d path exists\n", source, destination);
		fprintf(out, "\n");
                freeList(&amp;path);
                return;
	}
	
	// distance
	fprintf(out, "The distance from %d to %d is %d\n", source, destination, getDist(G, destination));

	// shortest path
	fprintf(out, "A shortest %d-%d path is: ", source, destination);
        printList(out, path);
        freeList(&amp;path);

}
int main(int argc, char *argv[]) {
        // Check for correct number of command line arguments
        if (argc != 3) {
                usage();
        }

        // Open input and output files
        FILE* in = fopen(argv[1], "r");
        if (in == NULL) {
                printf("Error: Unable to read file: %s\n", argv[1]);
                return EXIT_FAILURE;
        }

        FILE* out = fopen(argv[2], "w");
        if (out == NULL) {
                printf("Error: Could not open output file.\n");
                fclose(in);
                return EXIT_FAILURE;
        }

        // Read the number of vertices
        int n;
        if (fscanf(in, "%d", &amp;n) != 1) {
                printf("Error: Failed to read the number of vertices.\n");
                fclose(in);
                fclose(out);
                return EXIT_FAILURE;
        }

        // Create a new graph
        Graph G = newGraph(n);

        // Read edges and build the graph
        int u, v;
        while (fscanf(in, "%d %d", &amp;u, &amp;v) &amp;&amp; !(u == 0 &amp;&amp; v == 0)) {
                addEdge(G, u, v);
        }

        // Print the adjacency list representation of the graph
        printGraph(out, G);
	
// BFS logic --------------------------------------------------------------------------
	while (fscanf(in, "%d %d", &amp;u, &amp;v) == 2) {
        	if (u == 0 &amp;&amp; v == 0) break;

        	BFS(G, u);
        	List L = newList();
        	getPath(L, G, v);

        	fprintf(out, "\nThe distance from %d to %d is ", u, v);
        
		if (getDist(G, v) == INF) {
            		fprintf(out, "infinity\n");
            		fprintf(out, "No %d-%d path exists\n", u, v);

        	} else {
            	fprintf(out, "%d\n", getDist(G, v));
            	fprintf(out, "A shortest %d-%d path is: ", u, v);
            	printList(out, L);
            	fprintf(out, "\n");
        	}

        	freeList(&amp;L);
    	}

// ------------------------------------------------------------------------------------

	// Free everything
    	freeGraph(&amp;G);
</font>    	fclose(in);
    	fclose(out);

    return EXIT_SUCCESS;
}
</pre>


</body></html>