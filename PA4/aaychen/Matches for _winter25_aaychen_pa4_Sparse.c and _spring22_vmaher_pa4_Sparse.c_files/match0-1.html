
<!-- saved from url=(0062)http://moss.stanford.edu/results/9/4494935628931/match0-1.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>/winter25/aaychen/pa4/Sparse.c</title>
<script id="simplify-jobs-page-script" src="chrome-extension://pbanhockgagggenencehbnadejlgchfc/js/pageScript.bundle.js"></script></head>
<body bgcolor="white">
<hr>
/spring22/vmaher/pa4/Sparse.c<p></p><pre>//------------------------------------------------------------------------------
// Victor Maher - CSE 101 pa4
// CruzID - Vmaher
//------------------------------------------------------------------------------
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include "Matrix.h"

<a name="0"></a><font color="#FF0000"><a href="http://moss.stanford.edu/results/9/4494935628931/match0-0.html#0" target="0"><img src="./tm_0_57.gif" alt="other" border="0" align="left"></a>

int main(int argc, char *argv[]) {
    FILE *in;
    FILE *out;

    //checks command line for correct number of arguments;
    if (argc != 3) {
        printf("Can only accept 2 arguments, &lt;input file&gt; &lt;output file&gt;\n");
        exit(1);
    }
    //open file for reading
    in = fopen(argv[1], "r");
    if (in == NULL) {
        printf("Unable to open file for reading\n");
        exit(1);
    }
    //open file for writing
    out = fopen(argv[2], "w");
    if (out == NULL) {
        printf("Unable to open file for writing\n");
        exit(1);
    }

    //size of Matrix
    int n, anon, bnon;
    fscanf(in, "%d %d %d", &amp;n, &amp;anon, &amp;bnon);

    //make Matrices
    Matrix A = newMatrix(n);
    Matrix B = newMatrix(n);

    //loop through file until hit first white space
    int row, col;
    double val;
    for (int i = 1; i &lt;= anon; i += 1) {
        if (fscanf(in, "%d %d %lf\n", &amp;row, &amp;col, &amp;val) != EOF) {
            changeEntry(A, row, col, val);
        }
    }

    for (int i = 1; i &lt;= bnon; i += 1) {
        if (fscanf(in, "%d %d %lf\n", &amp;row, &amp;col, &amp;val) != EOF) {
            changeEntry(B, row, col, val);
        }
    }

    //call functions and print out matrices
    fprintf(out, "A has %d non-zero entries:\n", anon);
    printMatrix(out, A);
    fprintf(out, "\n");

    fprintf(out, "B has %d non-zero entries:\n", bnon);
    printMatrix(out, B);
    fprintf(out, "\n");

    //scalar
    fprintf(out, "(1.5)*A =\n");
    double x = 1.5;
    Matrix SM = scalarMult(x, A);
    printMatrix(out, SM);
    fprintf(out, "\n");

    //A+B
    fprintf(out, "A+B =\n");
    Matrix AB = sum(A, B);
</font>    printMatrix(out, AB);
    fprintf(out, "\n");

    //A+A
    fprintf(out, "A+A =\n");
    Matrix AA = sum(A, A);
    printMatrix(out, AA);
    fprintf(out, "\n");

    //B-A
    fprintf(out, "B-A =\n");
    Matrix BA = diff(B, A);
    printMatrix(out, BA);
    fprintf(out, "\n");

    //A-A
    fprintf(out, "A-A =\n");
    Matrix AD = diff(A, A);
    printMatrix(out, AD);
    fprintf(out, "\n");

    //Transpose(A)
    fprintf(out, "Transpose(A) =\n");
    Matrix T = transpose(A);
    printMatrix(out, T);
    fprintf(out, "\n");

    //A*B
    fprintf(out, "A*B =\n");
    Matrix AmB = product(A, B);
<a name="1"></a><font color="#00FF00"><a href="http://moss.stanford.edu/results/9/4494935628931/match0-0.html#1" target="0"><img src="./tm_1_8.gif" alt="other" border="0" align="left"></a>

    printMatrix(out, AmB);
    fprintf(out, "\n");

    //B*B
    fprintf(out, "B*B =\n");
    Matrix BmB = product(B, B);
    printMatrix(out, BmB);
    fprintf(out, "\n");

    //free allocated memory by matrices
    freeMatrix(&amp;A);
    freeMatrix(&amp;B);
    freeMatrix(&amp;SM);
</font>    freeMatrix(&amp;AB);
    freeMatrix(&amp;AA);
    freeMatrix(&amp;BA);
    freeMatrix(&amp;AD);
    freeMatrix(&amp;T);
    freeMatrix(&amp;AmB);
    freeMatrix(&amp;BmB);
   
    //close files
    fclose(in);
    fclose(out);
}</pre>



</body></html>